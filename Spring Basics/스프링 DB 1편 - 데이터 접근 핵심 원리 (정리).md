> 김영한님의 [스프링 DB 1편 - 데이터 접근 핵심 원리 (정리)](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-db-1) 강의 내용 정리입니다.

# 1. JDBC 이해
### JDBC 등장 이유
- 애플리케이션을 개발할 때 중요한 데이터는 대부분 데이터베이스에 보관한다.
- 클라이언트가 애플리케이션 서버를 통해 데이터를 저장하거나 조회하면, 애플리케이션 서버는 다음 과정을 통해서 데이터베이스를 사용한다.
  - 1. 커넥션 연결 : 주로 TCP/IP를 사용해서 커넥션을 연결한다.
  - 2. SQL 전달 : 애플리케이션 서버는 DB가 이해할 수 있는 SQL을 연결된 커넥션을 통해 DB에 전달한다.
  - 3. 결과 응답 : DB는 전달된 SQL을 수행하고 그 결과를 응답한다. 애플리케이션 서버는 응답 결과를 활용한다.
- 문제는 각각의 DB마다 커넥션 연결 방법, SQL 전달 방볍, 결과 응답 받는 방법이 모두 다르다는 점이다. 이는,
  - 1.DB를 다른 종류의 DB로 변경하면 애플리케이션 서버에 개발된 DB 사용 코드도 함께 변경해야 한다.
  - 2. 개발자가 각각의 DB마다 커넥션 연결, SQL 전달, 그리고 그 결과를 응답 받는 방법을 새로 학습해야 한다.
- 이러한 문제를 해결하기 위해 JDBC라는 자바 표준이 등장한다.

### JDBC 표준 인터페이스
- JDBC(Java Database Connectivity)는 자바에서 DB에 접속할 수 있ㄷ로고 하는 자바 API다. 
- JDBC는 DB에서 자료를 쿼리하거나 업데이트하는 방법을 제공한다.
- 대표적으로 3가지 기능을 표준 인터페이스로 정의해서 제공한다.
  - `java.sql.Connection` 연결
  - `java.sql.Statement` SQL을 담은 내용
  - `java.sql.ResultSet` SQL 요청 응답
- JDBC 드라이버 : JDBC 인터페이스를 각각의 DB 벤더에서 자신의 DB에 맞도록 구현해서 제공하는 라이브러리
- JDBC 등장으로,
  - 1. 애플리케이션 로직은 이제 JDBC 표준 인터페이스에만 의존한다. 따라서 DB를 다른 종류의 DB로 변경하고 싶으면 JDBC 구현 라이브러리만 변경하면 된다. 따라서 다른 종류의 DB로 변경해도 애플리케이션 서버의 사용 코드를 그대로 유지할 수 있다.
  - 2. 개발자는 JDBC 표준 인터페이스 사용법만 학습하면 된다. 한번 배우면 수십개의 DB에 모두 동일하게 적용할 수 있다.
- 참고 - 표준화의 한계
  - 각각의 DB마다 SQL, 데이터 타입 등의 일부 사용법이 다르다. (예 : 페이징)
  - SQL은 해당 DB에 맞도록 변경해야 한다. (JPA를 사용하면 DB마다 다른 SQL을 정의해야 하는 문제도 많은 부분 해결 가능)

### JDBC와 최신 데이터 접근 기술
#### SQL Mapper
- 장점
  - JDBC를 편리하게 사용하도록 도와준다.
  - SQL 응답 결과를 객체로 편리하게 변환해준다.
  - JDBC의 반복 코드를 제거해준다.
- 단점
  - 개발자가 SQL을 직접 작성해야 한다.
- 대표 기술 : 스프링 JdbcTemplate, MyBatis
#### ORM 기술
- ORM은 객체를 관계형 DB 테이블과 매핑해주는 기술이다. 이 기술 덕분에 개발자는 반복적인 SQL을 직접 작성하지 않고, ORM 기술이 개발자 대신에 SQL을 동적으로 만들어 실행해준다.
- 각각의 DB마다 다른 SQL을 사용하는 문제도 중간에서 해결
- 대표 기술 : JPA, 하이버네이트, 이클립스 링크
- JPA는 자바 진영의 ORM 표준 인터페이스이고, 이것을 구현한 것으로 하이버네이트와 이클립스 링크 등의 구현 기술이 있다.

#### SQL Mapper vs ORM 기술
- SQL Mapper는 SQL만 작성하면 나머지 번거로운 일은 SQL Mapper가 대신 해결해준다. SQL만 작성할 줄 알면 금방 배워서 사용할 수 있다.
- ORM 기술은 SQL 자체를 작성하지 않아도 되어서 개발 생산성이 매우 높아진다. 편리한 반면에 쉬운 기술은 아니므로 실무에서 사용하려면 깊이있게 학습해야 한다.
- 이런 기술들도 내부에서는 모두 JDBC를 사용한다. 따라서 JDBC를 직접 사용하지는 않더라도, JDBC가 어떻게 동작하는지 기본 원리를 알아두어야 한다.
