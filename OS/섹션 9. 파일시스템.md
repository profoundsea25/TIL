> [그림으로 쉽게 배우는 운영체제](https://www.inflearn.com/course/%EB%B9%84%EC%A0%84%EA%B3%B5%EC%9E%90-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/dashboard) 요약입니다.

# 섹션 9. 파일시스템
## 파일과 파일시스템
- 파일들은 하드디스크나 SSD와 같은 저장장치에 저장됨
- 메모리와 마찬가지로 사용자가 직접 저장을 하게 되면 중요한 정보를 훼손할 수 있기 때문에 운영체제를 대신 안전하게 저장
- 파일시스템 : 운영체제가 파일을 관리하는 시스템
- 파일 테이블을 이용해 파일을 관리 
- 하드디스크와 Flash Memory는 블록 디바이스
- 파일 시스템은 하드디스크와 Flash Memory 저장장치에 저장되기 때문에 전송 단위가 블록
- 파일관리자가 사용자의 바이트 단위 파일 접근을 가능하게 해줌
- Windows는 확장자를 통해 파일의 성격을 알 수 있음.
- 파일은 헤더와 데이터로 이루어짐
- 헤더에는 파일의 속성들이 담겨 있음

### 파일시스템의 기능
1. 파일과 디렉토리 생성
2. 파일과 디렉토리 수정/삭제
3. 파일 접근 권한 관리
4. 무결성 보장
5. 백업과 복구
6. 암호화

### 파일 디스크립터(File Descriptor)
- 운영체제가 파일을 관리하기 위해 정보를 보관하는 파일제어블록(File Control Block, FCB)
- 파일 디스크립터는 파일마다 독립적으로 존재
- 저장장치에 존재하다가 파일이 오픈되면 메모리로 이동
- 파일은 운영체제가 관리하고, 사용자가 직접 참조할 수는 없기 때문에, 사용자는 파일 디스크립터를 통해 파일에 접근할 수 있음

### 파일의 종류
#### 순차파일구조 
- 파일의 내용이 연속적으로 이어진 형태 (ex. 카세트테이프)
- 장점 : 모든 데이터가 순서대로 기록되기 때문에 공간의 낭비가 없고 구조가 단순
- 단점 : 특정 지점에 바로 이동이 어려워 데이터를 삽입하거나 삭제하려면 탐색하는데 시간이 많이 걸림
#### 직접파일구조
- 저장하려는 데이터를 해시함수를 통해 저장위치를 결정하는 파일구조
- 자료구조의 `해시 테이블` 방식 (ex. JSON)
- 장점 : 해시함수를 이용하기 때문에 데이터 접근이 굉장히 빠름
- 단점 : 해시함수의 선정이 굉장히 중요하기 때문에 해시함수를 잘 골라야 하고, 저장 공간이 낭비될 수 있음
#### 인덱스파일구조
- 순차접근과 직접접근 방식의 장점을 취한 것. 두 가지 방식 모두 가능 (ex. 음악 재생 프로그램의 재생목록)

## 디렉토리
- 관련있는 파일을 모아두는 것
- 1개 이상의 파일을 가질 수 있음
- 자식 디렉토리를 가질 수 있음
- 루트 디렉토리 : 최상위 디렉토리 (`/`)
- 디렉토리와 디렉토리 구분을 위해서도 `/` 사용
- Windows의 경우 루트 디렉토리를 파티션 이름으로 사용, 디렉토리와 디렉토리 구분을 `\` 사용
- 디렉토리도 파일의 종류. 일반 파일은 데이터를 담고있는 반면, 디렉토리는 파일 정보가 저장되어 있음.
- 디렉토리 헤더 : 디렉토리 정보가 시작하는 위치
- `.` : 현재 디렉토리를 나타냄
- `..` : 상위 디렉토리를 나타냄

### 디렉토리 구조
- 초기에는 루트 디렉토리에만 디렉토리를 만들 수 있었고, 하위 디렉토리는 자식 디렉토리를 만들 수 없었음
#### 다단계 디렉토리 구조
- 어떠한 디렉토리에서도 하위 디렉토리를 만들 수 있는 트리 구조
- 바로가기 기능이 있다면 순환이 있는 트리 구조
