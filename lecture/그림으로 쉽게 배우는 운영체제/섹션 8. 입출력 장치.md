> [그림으로 쉽게 배우는 운영체제](https://www.inflearn.com/course/%EB%B9%84%EC%A0%84%EA%B3%B5%EC%9E%90-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/dashboard) 요약입니다.

# 섹션 8. 입출력 장치
## 주변장치(I/O 디바이스, 저장장치)
- 그래픽 카드, HDD, SSD, 키보드, 마우스 등
- 주변장치들은 메인보드에 있는 버스로 연결됨
- I/O Bus = Address Bus + Data Bus + Control Bus
- I/O 디바이스는 위의 3가지 버스를 따로 받을 수 있음
- 레지스터 : 장치의 상태와 데이터를 보관할 수 있음. 이 값들은 CPU가 사용하기 위해 메모리로 이동되기도 함.
### 주변장치
- 데이터의 전송단위에 따라 2가지(캐릭터(글자) 블록)로 나뉨
#### 캐릭터 디바이스
- 마우스, 키보드, 사운드카드, 직렬/병렬 포트 등
- 데이터 전송 단위가 캐릭터(글자)로 상대적으로 크기가 작음
#### 블록 디바이스
- 하드디스크, SSD, 그래픽카드 등
- 데이터 전송 단위가 블록(범위)로 상대적으로 크기가 큼
### 입출력 제어기
- CPU는 I/O명령을 만나면 입출력 제어기에게 입출력 작업을 맡기고 다른 작업을 실행해 CPU 사용률을 높일 수 있음
#### 시스템 버스
- 고속으로 작동하는 CPU와 메모리가 사용
- 그래픽카드는 다루는 데이터가 훨씬 크기때문에 입출력 버스에 있지 않고 시스템 버스에 바로 연결해 사용
#### 입출력 버스
- 주변장치가 사용
- 세부적으로 고속 입출력 버스과 저속 입출력 버스로 나뉨
- 느린 장치와 빠른 장치를 구분해 속도차이로 인한 병목현상을 해결
### DMA(Direct Memory Access) 제어기
- 입출력 제어기가 CPU의 명령 없이도 메모리에 접근 가능하게 해줌
- 데이터를 직접 메모리에 저장하거나 가져올 수 있음
- Memory Mapped I/O : CPU와 DMA가 사용하는 메모리가 겹치지 않도록 CPU가 사용하는 메모리 영역과 DMA가 사용하는 메모리 영역을 나눈 것

## 마우스와 키보드
### 광학 마우스
- 아래쪽의 작은 카메라가 초당 1500회의 사진을 찍어 마우스의 디바이스 컨트롤러 내 DSP(Digital Signal Processor)로 보냄
- DSP는 이 사진을 분석해 마우스의 X축 Y축 움직임을 캐치함
- DSP가 마우스의 움직임과 클릭같은 데이터를 감지하면 디바이스 컨트롤러는 CPU에게 인터럽트를 보내고 마우스 드라이버가 동작해서 데이터를 읽어감
- 마우스 드라이버는 운영체제에게 이벤트 신호를 주는데, 운영체제는 이 이벤트를 Foreground 애플리케이션으로 전달해주고 해당 애플리케이션은 받은 마우스 이벤트를 처리

### 키보드
- 마우스와 근본적인 움직임은 동일
- 사용자가 키보드 버튼을 누르면 키보드의 디바이스 컨트롤러가 어떤 키를 입력 받았는지 알아냄
- CPU에게 인터럽트를 보내고 키보드 드라이버는 운영체제에게 이벤트를 보냄
- 운영체제는 Foreground 애플리케이션으로 이 이벤트를 전달해주고 애플리케이션에서 해당 키에 맞는 동작을 수행

## 하드디스크와 플래시 메모리(블록 디바이스)
### 하드디스크
- 유저 프로세스가 하드 디스크의 특정 섹터에 접근하는 요청을 보낸다고 가정 (`실린더 C로 가서 트랙 B에 있는 섹터 D를 읽어라`)
- 디스크암은 헤드를 실런더 C로 이동 = Seek
- 헤드를 실린더로 이동시키는데 걸리는 시간 = Seek Time
  - 이것 때문에 하드디스크가 굉장히 느림
- 트랙 B의 섹터 D가 헤드에 닿을때까지 스핀들 회전
- 헤드에 섹터 D가 읽히면 작업 완료
### 플래시 메모리
- HDD보다 작고
- 전기적으로 읽기 때문에 굉장히 빠르고 조용함
- 자석을 갖다대도 데이터 손실 없음
- HDD는 스핀들 같은 것들이 충격에 매우 약하지만 Flash Memory는 그렇지 않음
- 단점 : 특정한 지점에 데이터를 썼다면 덮어쓰기가 불가능
  - 특정 지점에 데이터를 다시 쓰고 싶다면 기존 데이터를 지우고 새로 써야 하는데, Flash Memory는 지우기 가능한 횟수가 정해져 있음
  - 그래서 똑같은 지점에 지우기/쓰기를 반복하면 망가져 사용할 수 없음
