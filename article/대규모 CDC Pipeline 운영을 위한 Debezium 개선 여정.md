# [대규모 CDC Pipeline 운영을 위한 Debezium 개선 여정](https://toss.tech/article/cdc_pipeline)

- Change Data Capture(CDC)
    - 정적인 데이터를 동적인 형태로 복제
    - 데이터베이스 안에서 일어나는 변경사항을 감지하고, 각 변경사항을 이벤트로 변환해서 이벤트 스트림으로 전송
    - 데이터베이스의 변경사항을 실시간으로 받을 수 있음.
- 배치와 다른 스트리밍
    - 배치는 처리한 데이터의 처음과 끝을 알 수 있고, 처리 소요 시간을 알 수 있다.
    - 스트리밍 처리를 하면 특정 시간에 어떤 데이터가 처리되었는지, 소요 시간 등을 정확히 알 수 없다.
    - 문제를 보고 받았을 때야 문제를 인지할 수 있음. -> 운영의 부담
- '잘 운영한다'의 기준
    - Latency: 원천 DB에서 Target System으로 Event를 보내는데 소요되는 시간
        - end-to-end latency를 측정할 수 있어야 한다.
    - Throughput: 초당 처리할 수 있는 데이터의 양
        - 처리량을 이벤트 별로 구별하면 좋다.
    - Scalability: 새로운 CDC를 만드는데 소요되는 시간
        - 초기 CDC Pipeline 생성에 오래걸린다는 뜻은, 장애 시 복구에도 오래 걸린다는 뜻이다.
    - 정합성

### Comment
- 스트리밍 처리는 배치와 다른 특성을 보인다. 이벤트 별로 end-to-end latency를 관측할 수 있어야 한다.
- 구동에 오래 걸린다는 것은 장애 상황에 치명적이다. 최대한 가볍게 만들어야 한다.
